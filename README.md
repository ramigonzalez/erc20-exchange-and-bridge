# Description
This is a dapp platform where allow users to swap a provided ERC20 token for ETHs. It also allow him to bridge it to Polygon network.

## Implementation
- Only the protocol owner can mint new tokens.
- There is a centralized token vault where the exchange smart contract relies on.
- An ERC20 token is provided for both Ethereum and Polygon newtworks and they differe in their implementations

## Project structure
| Path | Desctiption |
| :-- | :-- | 
| `/contracts` | Where the smart contracts are |
| `/scripts` | There is a file called `deploy.js` to deploy our smart contracts |
| `/test` | There are suits to cover all the project: exchange, bridge and tokens implementation |
| `/webapp` | The dapp implementation for metamask wallets |  

## Project setup
1. Install project dependencies running ```npm i```
2. Create an environment file called `.env` filling `.env.sample` instructions
3. Optionally, configure other networks or some other hardhart local config through `.hardhat.config.js` file

## Testing scripts
| Script | Desctiption |
| :-- | :-- |  
| `npm run test` | Runs a test suit for all contracts |
| `npm run coverage` | Give us a report of % coverage of the project |

## Protocol deploy steps
In order to simplify the deploy of the protocol, we provide scripts to do it locally or in testnet
| Script | Desctiption |
| :-- | :-- | 
| ```npm run deploy-hardhat``` | Deploy the protocol in hardhat local network |
| ```npm run deploy-hardhat``` | Deploy the protocol in ganache local network. You must have ganache intalled in your local machine |
| ```npm run deploy-goerli-mumbai``` | Deploy token, exchange and bridge contracts in **Goerli Ethereum testnet** and token and bridge contracts in **Mumbai Polygon testnet** |


# Frontend

## Frontend setup
1. Compile smart contracts by running `npx hardhat compile`
2. Deploy the protocol running `npm run deploy-goerli-mumbai`
3. Copy the contracts addresses of the deployed protocol and paste them following `web-app/.env.sample` file
4. Copy files generated by hardhat compilation in path `web-app/` project executing `cp artifacts/contracts/ web-app/src/`
5. Run the server by `yarn && yarn start` opened at [http://localhost:3000](http://localhost:3000)

## Frontend description
- There is a home screen where users connect their metamask wallet
- In the navigation tab you can go either exchange or bridge tab:
   - Exchange: you can exchange Ethers for TETH tokens
   - Bridge: you can bridge TETH tokens (Ethereum ERC20) for TPOL tokens (Polygon ERC20) 
